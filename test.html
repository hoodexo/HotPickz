<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nonnas – Comedy Film | Vince Vaughn</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
        body{background:#111;color:#fff}

        /* حاوية الفيديو */
        .video-container{
            position:relative;
            width:100%;
            max-width:800px;
            margin:40px auto;
            background:#000;
            border-radius:8px;
            overflow:hidden;
        }
        /* الفيديو بدون controls */
        .video-container iframe{
            width:100%;
            height:450px;
            border:none;
            display:block;
        }
        /* زرّ التكبير الخاص بنا */
        .custom-fs{
            position:absolute;
            bottom:8px; right:8px;
            width:36px; height:36px;
            background:rgba(0,0,0,.6);
            border:none;
            border-radius:4px;
            cursor:pointer;
            z-index:10;
        }
        /* أيقونة بسيطة */
        .custom-fs::before{
            content:'⛶';
            color:#fff;
            font-size:18px;
        }
        /* وضع ملء الشاشة للحاوية */
        .video-container.full{
            position:fixed;
            inset:0;
            max-width:none;
            border-radius:0;
            z-index:200;
        }
        .video-container.full iframe{height:100vh}

        /* الطبقة الشفافة */
        #videoOverlay{
            position:absolute;
            inset:0;
            background:transparent;
            z-index:9999;
            display:none;
        }

        /* باقي الأقسام */
        .movie-info{padding:40px 20px;text-align:center}
        .movie-title{font-size:2.5rem;margin-bottom:15px}
        .movie-description{font-size:1.1rem;max-width:700px;margin:0 auto 25px;color:#ccc}
        .movie-details{background:#222;display:inline-block;padding:15px 25px;border-radius:6px;text-align:left}
        .detail-item{margin:6px 0}
        .detail-label{font-weight:bold;color:#8B0000}
        footer{background:#000;text-align:center;padding:20px;font-size:.9rem;color:#888}
    </style>
</head>
<body>

<section class="video-section">
    <div class="video-container" id="vidContainer">
        <!-- أزلنا controls وسمحنا فقط ب autoplay -->
        <iframe id="vidIframe"
                src="https://peytonepre.com/embed/2srk7ixp3x46?autoplay=true&controls=0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
        </iframe>

        <!-- زرّ التكبير الخاص بنا -->
        <button class="custom-fs" id="fsBtn" title="تكبير/تصغير"></button>

        <!-- الطبقة الشفافة -->
        <div id="videoOverlay"></div>
    </div>
</section>

<section class="movie-info">
    <h1 class="movie-title">Nonnas</h1>
    <p class="movie-description">After losing his beloved mother, a man risks everything to honor her by opening an Italian restaurant with actual grandmothers as the chefs.</p>
    <div class="movie-details">
        <div class="detail-item"><span class="detail-label">Director:</span> Stephen Chbosky</div>
        <div class="detail-item"><span class="detail-label">Writers:</span> Liz Maccie, Jody Scaravella</div>
        <div class="detail-item"><span class="detail-label">Stars:</span> Vince Vaughn, Lorraine Bracco, Talia Shire</div>
        <div class="detail-item"><span class="detail-label">Genre:</span> Comedy</div>
    </div>
</section>

<footer>© 2023 Nonnas Movie. All rights reserved.</footer>

<!-- ========== السكريبت ========== -->
<script>
    const container = document.getElementById('vidContainer');
    const overlay   = document.getElementById('videoOverlay');
    const fsBtn     = document.getElementById('fsBtn');

    /* تبديل ملء الشاشة للحاوية (لا للـ iframe) */
    fsBtn.addEventListener('click', () => {
        if (!document.fullscreenElement) {
            container.requestFullscreen().catch(err => console.error(err));
            container.classList.add('full');
        } else {
            document.exitFullscreen();
            container.classList.remove('full');
        }
    });
    /* عند الخروج من ملء الشاشة بالـ ESC */
    document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement) container.classList.remove('full');
    });

    /* مراقبة ظهور/اختفاء اللوكر (optilinklock) */
    const obs = new MutationObserver(() => {
        /* استخدم الكلاس الذي يضيفه اللوكر لك (غيّره حسب الحاجة) */
        const locker = document.querySelector('.optilinklock-container, .locker-container');
        if (locker) {
            overlay.style.display = 'block';          // أظهر الطبقة
            if (document.fullscreenElement) document.exitFullscreen(); // اخرج من وضع ملء الشاشة
        } else {
            overlay.style.display = 'none';           // أخفِ الطبقة
        }
    });
    obs.observe(document.body, { childList: true, subtree: true });
</script>

</body>
</html>
